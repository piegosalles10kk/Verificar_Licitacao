<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sistema de An√°lise de Licita√ß√µes | Business Intelligence</title>
    <link rel="stylesheet" href="styles.css">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>
<body>
    <!-- Header -->
    <header class="header">
        <div class="container">
            <div class="header-content">
                <h1 class="logo">
                    Sistema de An√°lise de Licita√ß√µes
                </h1>
                <div class="header-subtitle">Business Intelligence & Analytics</div>
            </div>
        </div>
    </header>

    <!-- Main Content -->
    <main class="main-content">
        <div class="container">
            
            <!-- Filtros de Busca -->
            <section class="search-section">
                <div class="card">
                    <div class="card-header">
                        <h2>Par√¢metros de Consulta</h2>
                    </div>
                    <div class="card-body">
                        <form id="searchForm" class="search-form">
                            <div class="form-row">
                                <div class="form-group">
                                    <label for="orgaoInput">√ìrg√£o / Institui√ß√£o:</label>
                                    <input 
                                        type="text" 
                                        id="orgaoInput" 
                                        placeholder="Ex: EXERCITO, EMBRAPA, ANVISA"
                                        required
                                    >
                                    <small>Digite o nome do √≥rg√£o ou institui√ß√£o</small>
                                </div>
                                <div class="form-group">
                                    <label for="objetoInput">Objeto da Licita√ß√£o:</label>
                                    <input 
                                        type="text" 
                                        id="objetoInput" 
                                        placeholder="Ex: ESCRITORIO, COMPUTADOR, SERVI√áOS"
                                        required
                                    >
                                    <small>Digite palavras-chave do objeto</small>
                                </div>
                            </div>
                            <button type="submit" class="btn btn-primary" id="searchBtn">
                                Executar An√°lise
                            </button>
                        </form>
                    </div>
                </div>
            </section>

            <!-- Loading -->
            <div id="loadingIndicator" class="loading-indicator" style="display: none;">
                <div class="spinner"></div>
                <p id="loadingMessage">Processando an√°lise de dados...</p>
                <p id="loadingSubMessage" class="loading-submessage"></p>
            </div>

            <!-- Results Container -->
            <div id="resultsContainer" style="display: none;">
                
                <!-- KPIs Section -->
                <section class="kpi-section">
                    <h2 class="section-title">Indicadores-Chave de Performance (KPIs)</h2>
                    <div class="kpi-grid">
                        <div class="kpi-card">
                            <div class="kpi-icon">üìã</div>
                            <div class="kpi-value" id="kpiTotal">-</div>
                            <div class="kpi-label">Total de Licita√ß√µes</div>
                        </div>
                        <div class="kpi-card success">
                            <div class="kpi-icon">‚úÖ</div>
                            <div class="kpi-value" id="kpiAprovadas">-</div>
                            <div class="kpi-label">Licita√ß√µes Aprovadas</div>
                        </div>
                        <div class="kpi-card info">
                            <div class="kpi-icon">üìà</div>
                            <div class="kpi-value" id="kpiTaxa">-</div>
                            <div class="kpi-label">Taxa de Sucesso</div>
                        </div>
                        <div class="kpi-card warning">
                            <div class="kpi-icon">üí∞</div>
                            <div class="kpi-value" id="kpiValor">-</div>
                            <div class="kpi-label">Valor Total (R$)</div>
                        </div>
                    </div>
                </section>

                <!-- Charts Section -->
                <section class="charts-section">
                    <div class="charts-grid">
                        
                        <!-- Chart 1: Taxa de Aprova√ß√£o -->
                        <div class="card chart-card">
                            <div class="card-header">
                                <h3>Taxa de Aprova√ß√£o</h3>
                            </div>
                            <div class="card-body">
                                <canvas id="approvalChart"></canvas>
                            </div>
                        </div>

                        <!-- Chart 2: Distribui√ß√£o Geogr√°fica -->
                        <div class="card chart-card">
                            <div class="card-header">
                                <h3>Distribui√ß√£o por Munic√≠pio - Aprova√ß√µes</h3>
                            </div>
                            <div class="card-body">
                                <canvas id="locationChart"></canvas>
                            </div>
                        </div>

                    </div>
                </section>

                <!-- Relat√≥rio Gerencial -->
                <section class="report-section">
                    <div class="card">
                        <div class="card-header">
                            <h2>Relat√≥rio Gerencial - An√°lise Estrat√©gica</h2>
                        </div>
                        <div class="card-body">
                            <div id="reportContent" class="report-content">
                                <!-- Conte√∫do ser√° preenchido via JS -->
                            </div>
                        </div>
                    </div>
                </section>

                <!-- Tabela de Todas as Licita√ß√µes -->
                <section class="sample-section">
                    <div class="card">
                        <div class="card-header">
                            <h2>Todas as Licita√ß√µes Encontradas (<span id="totalLicitacoesCount">0</span>)</h2>
                        </div>
                        <div class="card-body">
                            <!-- Filtros e Busca -->
                            <div class="table-filters">
                                <div class="filter-row">
                                    <div class="search-box">
                                        <input 
                                            type="text" 
                                            id="tableSearch" 
                                            placeholder="üîç Buscar em todas as colunas..."
                                        >
                                    </div>
                                    <div class="filter-group">
                                        <label for="municipioFilter">Munic√≠pio:</label>
                                        <select id="municipioFilter">
                                            <option value="">Todos os Munic√≠pios</option>
                                        </select>
                                    </div>
                                    <div class="filter-group">
                                        <label for="ordenacaoFilter">Ordenar por:</label>
                                        <select id="ordenacaoFilter">
                                            <option value="status">Status (Aprovadas primeiro)</option>
                                            <option value="valor-desc">Maior Valor</option>
                                            <option value="valor-asc">Menor Valor</option>
                                            <option value="municipio">Munic√≠pio (A-Z)</option>
                                        </select>
                                    </div>
                                    <button class="btn btn-secondary" id="clearFiltersBtn">
                                        Limpar Filtros
                                    </button>
                                </div>
                            </div>

                            <div class="table-responsive">
                                <table id="sampleTable" class="data-table">
                                    <thead>
                                        <tr>
                                            <th>Status</th>
                                            <th>√ìrg√£o</th>
                                            <th>Objeto</th>
                                            <th>Situa√ß√£o</th>
                                            <th>Munic√≠pio</th>
                                            <th>Valor (R$)</th>
                                        </tr>
                                    </thead>
                                    <tbody id="sampleTableBody">
                                        <!-- Linhas ser√£o preenchidas via JS -->
                                    </tbody>
                                </table>
                            </div>
                            
                            <div id="noResultsMessage" class="no-results" style="display: none;">
                                <p>Nenhuma licita√ß√£o encontrada com os filtros aplicados.</p>
                            </div>
                        </div>
                    </div>
                </section>

            </div>

        </div>
    </main>

    <!-- Footer -->
    <footer class="footer">
        <div class="container">
            <p>&copy; 2025 Sistema de An√°lise de Licita√ß√µes | Business Intelligence</p>
            <p class="footer-note">Dados provenientes de fontes governamentais oficiais</p>
        </div>
    </footer>

    <script src="app.js"></script>
</body>
</html>